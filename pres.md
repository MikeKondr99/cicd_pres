---
marp: true
theme: iggg
backgroundColor: white
paginate: true
---
<!-- _class: lead -->

# CI/CD Практики
## Непрерывная интеграция и поставка

---

# Введение

**Continuous integration** и **Continuous deployment** – это одна из **DevOps** практик, направленная на автоматизацию процессов при разработке ПО. **CI/CD** объединяет разработку, тестирование и развёртывание приложений. 

![bg right:50% 140%](https://miro.medium.com/max/612/0*DVSYJfjOJrCTzqUB.png)



---

# Цели

* Раннее обнаружение дефектов
* Повышение производительности
* Обеспечение более быстрых циклов выпуска
* Повышение качества кода


---

# Задачи

Автоматизация однообразных процессов:
* Анализ
* Сборка
* Упаковка
* Тестирование
* Развертывание и т.д.

---

# Методология

**CI/CD** является частью **DevOps** методологии, а также коррелирует с **Agile** подходом.

Концепт не просто автоматизирует процессы, но и навязывает модели поведения

* Частные слияния кода
* Проверки нового кода

---

# Принцип работы

Сервер содержит набор триггеров и связанных с ними конвейером операций.

Зачастую используется какая-то система контроля версий *(Git,Subverstion,...)*
![bg right:50% fit](./d-1.svg)

---

# Готовые решения

В сфере **CI/CD** существую уже готовые к работе решения требующие только настройки.
* Jenkins
* Github
* Gitlab
* TeamCity
* Buddy
...

--- 

# CI/CD на Github

Представим что у нас есть приложение на **Python** и мы хотим проверять качество кода в ветке **master**
- Собрать
- Провести тестирование

**Github** уже имеет встроенную систему **CI/CD** и нам остается лишь настроить.

Файл настройки должен находится в **./.github/workflows/** иметь расширение **yaml**

---

```yaml
name: Python application

on:
  push:
    branches: [ "main" ] # триггер на push в main
permissions:
  contents: read
jobs:
  build:
    name: my-job
    runs-on: ubuntu-latest # выбираем OS
    steps:
    - uses: actions/checkout@v3
    - name: Set up Python 3.10 # Качаем python 3.10
      uses: actions/setup-python@v3
      with:
        python-version: "3.10"
    - name: Установки зависимостей
      run: |
        pip install requirements.txt
    - name: Тестирование
      run: |
        pytest
```
---

# Результат

При команде
```console
$ git push master origin
```
На сервере **Github** будет запускаться специальная служба которая за нас скачает и проверит эту версию программы и можно посмотреть полный log этого процесса.

--- 

# Заключение

**CI/CD** это полезная практика, которую можно использовать как для простых проектов для проверки прохождения базовых критериев качества *(стиль, тестирование, скорость...)*, так и для полного описания взаимодействия с процессом разработки.

